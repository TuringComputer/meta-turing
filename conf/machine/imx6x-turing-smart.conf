#@TYPE: Machine
#@NAME: Turing i.MX6x Evaluation Board (SMART Variant)
#@SOC: i.MX6 Q/DL
#@DESCRIPTION: Machine configuration for Turing Computer i.MX6 Evaluation Boards (SMART Variants)
#@MAINTAINER: Mauricio Cirelli <mauricio@turingcomputer.com.br>

# Machine config for the Turing Computer i.MX6 Evaluation Board machines (SMART Variants).
# They all use the same machine config, since the u-boot SPL autodetects the
# machine type upon booting. SOC_FAMILY includes all SoCs from all of these machines
# to let recipes include firmware etc. for all of these SoCs.
# This builds for SMART Variants, which means that
# there will be reduced DDR3 for Quad (1GB) and Dual Lite (512MB) versions.

require conf/machine/include/imx-base.inc
require conf/machine/include/tune-cortexa9.inc

SOC_FAMILY = "mx6:mx6dl:mx6q"

PREFERRED_PROVIDER_virtual/kernel ?= "linux-turing"

UBOOT_MAKE_TARGET = ""
UBOOT_SUFFIX = "img"
UBOOT_CONFIG ??= "sd"
UBOOT_CONFIG[sd] = "mx6turing_smart_defconfig,sdcard"
SPL_BINARY = "SPL"
PREFERRED_PROVIDER_u-boot ?= "u-boot-turing"
PREFERRED_PROVIDER_virtual/bootloader ?= "u-boot-turing"

KERNEL_IMAGETYPE = "zImage"
KERNEL_DEVICETREE = "imx6dl-turing-eval.dtb imx6q-turing-eval.dtb"

MACHINE_FEATURES += "apm usbgadget usbhost vfat alsa touchscreen screen wifi bluetooth serial keyboard"

SERIAL_CONSOLE = "115200 ttymxc4"

# 16MB Boot Partition
BOOT_SPACE = "16384"
